{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\baps\\\\Desktop\\\\PokemonApp\\\\src\\\\Components\\\\listings\\\\Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Card from './Card';\nimport Pokeinfo from './Pokeinfo';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const [pokeData, setPokeData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [url, setUrl] = useState('https://pokeapi.co/api/v2/pokemon/');\n  const [nextUrl, setNextUrl] = useState();\n  const [prevUrl, setPrevUrl] = useState();\n  const [pokeDex, setPokeDex] = useState();\n\n  const pokeFun = async () => {\n    setLoading(true);\n    const res = await axios.get(url);\n    setNextUrl(res.data.next);\n    setPrevUrl(res.data.previous);\n    getPokemon(res.data.results);\n    setLoading(false);\n  };\n\n  const getPokemon = async res => {\n    Promise.all(res.map(async item => {\n      const result = await axios.get(item.url);\n      setPokeData(prevData => [...prevData, result.data]);\n    })).catch(error => {\n      console.error('Error fetching Pokemon:', error);\n    });\n  };\n\n  const handleScroll = () => {\n    const scrollTop = document.documentElement.scrollTop;\n    const windowHeight = window.innerHeight;\n    const fullHeight = document.documentElement.scrollHeight;\n\n    if (scrollTop + windowHeight >= fullHeight) {\n      // User has scrolled to the bottom, fetch more data\n      if (nextUrl) {\n        setUrl(nextUrl);\n      }\n    }\n  };\n\n  useEffect(() => {\n    pokeFun(); // Add scroll event listener\n\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      // Clean up scroll event listener\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [url]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-content\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          pokemon: pokeData,\n          loading: loading,\n          infoPokemon: poke => setPokeDex(poke)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-content\",\n        children: /*#__PURE__*/_jsxDEV(Pokeinfo, {\n          data: pokeDex\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Main, \"m4ZoRBEcRfucO8tF5NRFyzfsRgI=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["C:/Users/baps/Desktop/PokemonApp/src/Components/listings/Main.jsx"],"names":["React","Card","Pokeinfo","axios","useState","useEffect","Main","pokeData","setPokeData","loading","setLoading","url","setUrl","nextUrl","setNextUrl","prevUrl","setPrevUrl","pokeDex","setPokeDex","pokeFun","res","get","data","next","previous","getPokemon","results","Promise","all","map","item","result","prevData","catch","error","console","handleScroll","scrollTop","document","documentElement","windowHeight","window","innerHeight","fullHeight","scrollHeight","addEventListener","removeEventListener","poke"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACjB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACO,GAAD,EAAMC,MAAN,IAAgBR,QAAQ,CAAC,oCAAD,CAA9B;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,EAAtC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,EAAtC;AACA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,EAAtC;;AAEA,QAAMe,OAAO,GAAG,YAAY;AAC1BT,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMU,GAAG,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CAAUV,GAAV,CAAlB;AACAG,IAAAA,UAAU,CAACM,GAAG,CAACE,IAAJ,CAASC,IAAV,CAAV;AACAP,IAAAA,UAAU,CAACI,GAAG,CAACE,IAAJ,CAASE,QAAV,CAAV;AACAC,IAAAA,UAAU,CAACL,GAAG,CAACE,IAAJ,CAASI,OAAV,CAAV;AACAhB,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAPD;;AASA,QAAMe,UAAU,GAAG,MAAOL,GAAP,IAAe;AAChCO,IAAAA,OAAO,CAACC,GAAR,CAAYR,GAAG,CAACS,GAAJ,CAAQ,MAAOC,IAAP,IAAgB;AAClC,YAAMC,MAAM,GAAG,MAAM5B,KAAK,CAACkB,GAAN,CAAUS,IAAI,CAACnB,GAAf,CAArB;AACAH,MAAAA,WAAW,CAACwB,QAAQ,IAAI,CACtB,GAAGA,QADmB,EAEtBD,MAAM,CAACT,IAFe,CAAb,CAAX;AAID,KANW,CAAZ,EAMIW,KANJ,CAMWC,KAAD,IAAW;AACnBC,MAAAA,OAAO,CAACD,KAAR,CAAc,yBAAd,EAAyCA,KAAzC;AACD,KARD;AASD,GAVD;;AAYA,QAAME,YAAY,GAAG,MAAM;AACzB,UAAMC,SAAS,GAAGC,QAAQ,CAACC,eAAT,CAAyBF,SAA3C;AACA,UAAMG,YAAY,GAAGC,MAAM,CAACC,WAA5B;AACA,UAAMC,UAAU,GAAGL,QAAQ,CAACC,eAAT,CAAyBK,YAA5C;;AAEA,QAAIP,SAAS,GAAGG,YAAZ,IAA4BG,UAAhC,EAA4C;AAC1C;AACA,UAAI9B,OAAJ,EAAa;AACXD,QAAAA,MAAM,CAACC,OAAD,CAAN;AACD;AACF;AACF,GAXD;;AAaAR,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,OAAO,GADO,CAGd;;AACAsB,IAAAA,MAAM,CAACI,gBAAP,CAAwB,QAAxB,EAAkCT,YAAlC;AAEA,WAAO,MAAM;AACX;AACAK,MAAAA,MAAM,CAACK,mBAAP,CAA2B,QAA3B,EAAqCV,YAArC;AACD,KAHD;AAID,GAVQ,EAUN,CAACzB,GAAD,CAVM,CAAT;AAYA,sBACE;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE,QAAC,IAAD;AACE,UAAA,OAAO,EAAEJ,QADX;AAEE,UAAA,OAAO,EAAEE,OAFX;AAGE,UAAA,WAAW,EAAGsC,IAAD,IAAU7B,UAAU,CAAC6B,IAAD;AAHnC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAWE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,+BACE,QAAC,QAAD;AAAU,UAAA,IAAI,EAAE9B;AAAhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAXF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAmBD,CAzED;;GAAMX,I;;KAAAA,I;AA2EN,eAAeA,IAAf","sourcesContent":["import React from 'react';\r\nimport Card from './Card';\r\nimport Pokeinfo from './Pokeinfo';\r\nimport axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst Main = () => {\r\n  const [pokeData, setPokeData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [url, setUrl] = useState('https://pokeapi.co/api/v2/pokemon/');\r\n  const [nextUrl, setNextUrl] = useState();\r\n  const [prevUrl, setPrevUrl] = useState();\r\n  const [pokeDex, setPokeDex] = useState();\r\n\r\n  const pokeFun = async () => {\r\n    setLoading(true);\r\n    const res = await axios.get(url);\r\n    setNextUrl(res.data.next);\r\n    setPrevUrl(res.data.previous);\r\n    getPokemon(res.data.results);\r\n    setLoading(false);\r\n  };\r\n\r\n  const getPokemon = async (res) => {\r\n    Promise.all(res.map(async (item) => {\r\n      const result = await axios.get(item.url);\r\n      setPokeData(prevData => [\r\n        ...prevData,\r\n        result.data\r\n      ]);\r\n    })).catch((error) => {\r\n      console.error('Error fetching Pokemon:', error);\r\n    });\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    const scrollTop = document.documentElement.scrollTop;\r\n    const windowHeight = window.innerHeight;\r\n    const fullHeight = document.documentElement.scrollHeight;\r\n\r\n    if (scrollTop + windowHeight >= fullHeight) {\r\n      // User has scrolled to the bottom, fetch more data\r\n      if (nextUrl) {\r\n        setUrl(nextUrl);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    pokeFun();\r\n\r\n    // Add scroll event listener\r\n    window.addEventListener('scroll', handleScroll);\r\n\r\n    return () => {\r\n      // Clean up scroll event listener\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, [url]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"left-content\">\r\n          <Card\r\n            pokemon={pokeData}\r\n            loading={loading}\r\n            infoPokemon={(poke) => setPokeDex(poke)}\r\n          />\r\n\r\n          {/* No need for the next and previous buttons */}\r\n\r\n        </div>\r\n        <div className=\"right-content\">\r\n          <Pokeinfo data={pokeDex} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}